{% extends 'base.html.twig' %}

{% block body %}

	<div class="fr-table">
		<div class="fr-table__wrapper">
			<div class="fr-table__container">
				<div class="fr-table__content">
					<table>
						<caption class="w100">
							Mon parc de véhicules

							<ul class="fr-mt-2w fr-btns-group fr-btns-group--inline-sm fr-btns-group--right">
								<li>
									<button class="fr-btn fr-btn--secondary" data-fr-opened="false" aria-controls="fr-modal-ajouter-vehicule">
										Ajouter un véhicule
									</button>
								</li>
								<li>
									<button class="fr-btn fr-btn--secondary">
										Supprimer un véhicule
									</button>
								</li>
							</ul>
						</caption>
						<thead>
							<tr>
								<th scope="col">
									Statut
								</th>
								<th scope="col">
									Immatriculation
								</th>
								<th scope="col">
									Marque
								</th>
								<th scope="col">
									Modèle
								</th>
								<th scope="col">
									Carburant
								</th>
								<th scope="col">
									Contrôle technique
								</th>
								<th scope="col">
									Nombre places
								</th>
								<th scope="col">
									Sérigraphié
								</th>
								<th scope="col">
									Genre
								</th>

							</tr>
						</thead>
						<tbody>

							{% for vl in vehicules %}

								<tr id="table-row-key-1" data-row-key="1">
									<td>
										Disponible
									</td>
									<td>
										{{ vl.immatriculation }}
									</td>
									<td>
										{{ vl.marque }}
									</td>
									<td>
										{{ vl.modele ~ ' ' ~ vl.motorisation ~ ' ' ~ vl.finition }}
									</td>
									<td>
										{{vl.carburant }}
									</td>
									<td>
										{{ vl.controletechnique | date('d/m/Y') }}
									</td>
									<td>
										{{vl.nbplaces}}
									</td>
									<td>
										{{vl.serigraphie? 'OUI':'NON'}}
									</td>
									<td>
										{{vl.genre.code }}
									</td>
								</tr>

							{% else %}

								<tr id="table-row-key-1" data-row-key="1">
									<td colspan="9">
										Il n'y a encore aucun véhicule dans votre parc.
									</td>

								{% endfor %}
							</tbody>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

	{# MODALE FORMULAIRE AJOUT DE VÉHICULE #}
	<dialog aria-labelledby="fr-modal-title-modal-1" role="dialog" id="fr-modal-ajouter-vehicule" class="fr-modal">
		<div class="fr-container fr-container--fluid fr-container-md">
			<div class="fr-grid-row fr-grid-row--center">
				<div class="fr-col-12 fr-col-md-8 fr-col-lg-6">
					<div class="fr-modal__body">
						<div class="fr-modal__header">
							<button class="fr-btn--close fr-btn" title="Fermer la fenêtre modale" aria-controls="fr-modal-ajouter-vehicule">Fermer</button>
						</div>
						<div class="fr-modal__content">
							<h1 id="fr-modal-title-modal-1" class="fr-modal__title">
								<span class="fr-icon-arrow-right-line fr-icon--lg"></span>Ajouter un véhicule</h1>
							{{ form(form) }}
							</div>
						</div>
					</div>
				</div>
			</div>
		</dialog>

	{% endblock %}
