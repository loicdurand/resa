# NE JAMAIS ÉCRIRE DE SECRET DANS CE FICHIER!!!
# Les valeurs telles que admin:my_password dans DATABASE_URL ne sont que des exemples.
# Créez un fichier .env.local, copiez le contenu de ce fichier puis adaptez-le à vos besoins.

# In all environments, the following files are loaded if they exist,
# the latter taking precedence over the former:
#
#  * .env                contains default values for the environment variables needed by the app
#  * .env.local          uncommitted file with local overrides
#  * .env.$APP_ENV       committed environment-specific defaults
#  * .env.$APP_ENV.local uncommitted environment-specific overrides
#
# Real environment variables win over .env files.
#
# DO NOT DEFINE PRODUCTION SECRETS IN THIS FILE NOR IN ANY OTHER COMMITTED FILES.
# https://symfony.com/doc/current/configuration/secrets.html
#
# Run "composer dump-env prod" to compile .env files for production use (requires symfony/flex >=1.2).
# https://symfony.com/doc/current/best_practices.html#use-environment-variables-for-infrastructure-configuration

###> symfony/framework-bundle ###
APP_ENV=prod
APP_SECRET=''
APP_DEBUG=1
APP_MACHINE='chrome'
APP_LDAP_HOST='ldap://ldap.gendarmerie.fr'
APP_LDAP_PORT='389'
###< symfony/framework-bundle ###

LDAP_HOST=lldap
LDAP_PORT=3890
LDAP_USER=admin
LDAP_PASSWORD=my_password
BASE_DN='dc=gendarmerie,dc=defense,dc=gouv,dc=fr'

COOKIE_NAME=lldap
COOKIE_DOMAIN=localhost
PORTAL_URL='http://localhost/sso/login' # // <- l'URL est http://localhost car l'utilisateur est redirigé
REST_URL='http://sso:5000/validate'     # // <- l'URL est http://sso car on requête en GET le service sso
MAIL_URL='https://localhost:5000/mail'
GRP_URL='https://localhost:5000/getgroups.pl'

###> doctrine/doctrine-bundle ###
DATABASE_URL="mysql://admin:my_password@mysql:3306/resa?serverVersion=8.0.32&charset=utf8mb4"
###< doctrine/doctrine-bundle ###

###> symfony/messenger ###
MESSENGER_TRANSPORT_DSN=doctrine://default?auto_setup=0
###< symfony/messenger ###

###> symfony/mailer ###
MAILER_DSN=null://null
###< symfony/mailer ###
### fin ###
###> nelmio/cors-bundle ###
CORS_ALLOW_ORIGIN='^https?://(localhost|127\.0\.0\.1)(:[0-9]+)?$' 
###< nelmio/cors-bundle ###

### Enregistrer les paramètres ci-dessous dans /config/services.yaml
APP_NAME="R&#926;S&#945;" #949
APP_TAGLINE='971'
APP_SLUG='La plateforme de réservation de véhicules du COMGENDGP'

APP_CSAG_CODE_UNITE="56751"
APP_CSAG_MAIL="csag_exemple@exemple.com"
APP_UNITES_PJ="15186"
APP_UNITES_EM="6768","12237","12238","12507","12609","13498","15186","19251","25626","30247","30252","30256","30327","30328","31280","56500","56501","56502","56503","56505","56506","56507","56508","56509","56751","70727","72021","74417","78153","78502","86977","88604","90055"
# Ajout du périmètre d'utilisation par type d'unité, comme demandé dans la NDS
# ============================================================================
# Pour faire simple: soit le mail unité commence par un de ces préfixes et l'utilisateur accède au site,
# soit il n'y a pas accès et on lui affiche un message d'erreur.
APP_UNITES_PERIMETRE="cgd","sr","edcf","agi","mpf","girp","bgta","saj","sc","comgend"
